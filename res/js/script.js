  //动态标题
  var OriginTitile = document.title;
  var titleTime;
  document.addEventListener('visibilitychange', function () {
      if (document.hidden) {
          //离开当前页面时标签显示内容
          document.title = 'w(ﾟДﾟ)w 不要走！再看看嘛！';
          clearTimeout(titleTime);
      }
      else {
          //返回当前页面时标签显示内容
          document.title = '♪(^∇^*)欢迎回来！' + OriginTitile;
          //两秒后变回正常标题
          titleTime = setTimeout(function () {
              document.title = OriginTitile;
          }, 2000);
      }
  });
  





/*! Live2D Widget Enhanced v0.2.0 (https://github.com/SamuNatsu/live2d-widget-enhanced) */
!function(){"use strict";function e(e,t,o,s){return new(o||(o=Promise))((function(n,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function c(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,c)}a((s=s.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;function t(e){return Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e}function o(e){var t;const o=e.split("-")[0],s=null!==(t=e.split("-")[1])&&void 0!==t?t:o;return[[parseInt(o.split("/")[0]),parseInt(o.split("/")[1])],[parseInt(s.split("/")[0]),parseInt(s.split("/")[1])]]}function s(e,t,o){return t<=e&&e<=o}class n{static info(e,...t){console.log(`%cL2DWE%c ${e}`,"background:#389ad5;padding:1px 5px;border-radius:3px;color:#fff","",...t)}static error(e,...t){console.log(`%cL2DWE%c ${e}`,"background:#ef4041;padding:1px 5px;border-radius:3px;color:#fff","",...t)}}let i=null;const r=(e,o,s)=>{if(parseInt(sessionStorage.getItem("l2dwe-msg-priority"))>s)return;null!==i&&(clearTimeout(i),i=null),sessionStorage.setItem("l2dwe-msg-priority",s.toString());const n=document.querySelector("#waifu-tips");n.innerHTML=t(e),n.classList.add("waifu-tips-active"),i=setTimeout((()=>{sessionStorage.removeItem("l2dwe-msg-priority"),n.classList.remove("waifu-tips-active")}),o)};class c{static getInstance(e){if(void 0!==e&&(c.instance=new c(e),n.info("模型单例初始化完毕")),void 0===c.instance)throw Error("模型单例未初始化");return c.instance}constructor(e){this.api=e}loadModel(t,o,s){return e(this,void 0,void 0,(function*(){localStorage.setItem("l2dwe-model-id",t.toString()),localStorage.setItem("l2dwe-texture-id",o.toString()),void 0!==s&&r(s,4e3,10),loadlive2d("live2d",yield this.api.get(t,o)),n.info(`模型 ${t}-${o} 加载完成`)}))}loadRandModel(){return e(this,void 0,void 0,(function*(){const e=parseInt(localStorage.getItem("l2dwe-model-id")),t=yield this.api.rand(e);yield this.loadModel(t.model.id,0,t.model.message)}))}loadNextModel(){return e(this,void 0,void 0,(function*(){const e=parseInt(localStorage.getItem("l2dwe-model-id")),t=yield this.api.switch(e);yield this.loadModel(t.model.id,0,t.model.message)}))}loadRandTexture(){return e(this,void 0,void 0,(function*(){const e=parseInt(localStorage.getItem("l2dwe-model-id")),t=parseInt(localStorage.getItem("l2dwe-texture-id")),o=yield this.api.randTexture(e,t);yield this.loadModel(e,o.textures.id,0===o.textures.id&&0===t?"我还没有其他衣服呢！":"我的新衣服好看嘛？")}))}loadNextTexture(){return e(this,void 0,void 0,(function*(){const e=parseInt(localStorage.getItem("l2dwe-model-id")),t=parseInt(localStorage.getItem("l2dwe-texture-id")),o=yield this.api.switchTexture(e,t);yield this.loadModel(e,o.textures.id,0===o.textures.id&&0===t?"我还没有其他衣服呢！":"我的新衣服好看嘛？")}))}}const a={hitokoto:{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4l0 0 0 0 0 0 0 0 .3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"/></svg>',callback:()=>{fetch("https://v1.hitokoto.cn").then((e=>e.json())).then((e=>{const t=`这句一言来自 <span>「${e.from}」</span>，是 <span>${e.creator}</span> 在 hitokoto.cn 投稿的。`;r(e.hitokoto,6e3,9),setTimeout((()=>{r(t,4e3,9)}),6e3)}))}},"switch-model":{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M399 384.2C376.9 345.8 335.4 320 288 320H224c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"/></svg>',callback:()=>{c.getInstance().loadNextModel()}},"switch-texture":{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M320 64A64 64 0 1 0 192 64a64 64 0 1 0 128 0zm-96 96c-35.3 0-64 28.7-64 64v48c0 17.7 14.3 32 32 32h1.8l11.1 99.5c1.8 16.2 15.5 28.5 31.8 28.5h38.7c16.3 0 30-12.3 31.8-28.5L318.2 304H320c17.7 0 32-14.3 32-32V224c0-35.3-28.7-64-64-64H224zM132.3 394.2c13-2.4 21.7-14.9 19.3-27.9s-14.9-21.7-27.9-19.3c-32.4 5.9-60.9 14.2-82 24.8c-10.5 5.3-20.3 11.7-27.8 19.6C6.4 399.5 0 410.5 0 424c0 21.4 15.5 36.1 29.1 45c14.7 9.6 34.3 17.3 56.4 23.4C130.2 504.7 190.4 512 256 512s125.8-7.3 170.4-19.6c22.1-6.1 41.8-13.8 56.4-23.4c13.7-8.9 29.1-23.6 29.1-45c0-13.5-6.4-24.5-14-32.6c-7.5-7.9-17.3-14.3-27.8-19.6c-21-10.6-49.5-18.9-82-24.8c-13-2.4-25.5 6.3-27.9 19.3s6.3 25.5 19.3 27.9c30.2 5.5 53.7 12.8 69 20.5c3.2 1.6 5.8 3.1 7.9 4.5c3.6 2.4 3.6 7.2 0 9.6c-8.8 5.7-23.1 11.8-43 17.3C374.3 457 318.5 464 256 464s-118.3-7-157.7-17.9c-19.9-5.5-34.2-11.6-43-17.3c-3.6-2.4-3.6-7.2 0-9.6c2.1-1.4 4.8-2.9 7.9-4.5c15.3-7.7 38.8-14.9 69-20.5z"/></svg>',callback:()=>{c.getInstance().loadNextTexture()}},photo:{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M220.6 121.2L271.1 96 448 96v96H333.2c-21.9-15.1-48.5-24-77.2-24s-55.2 8.9-77.2 24H64V128H192c9.9 0 19.7-2.3 28.6-6.8zM0 128V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H271.1c-9.9 0-19.7 2.3-28.6 6.8L192 64H160V48c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16l0 16C28.7 64 0 92.7 0 128zM168 304a88 88 0 1 1 176 0 88 88 0 1 1 -176 0z"/></svg>',callback:()=>{r("照好了嘛，是不是很可爱呢？",6e3,9),Live2D.captureName="photo.png",Live2D.captureFrame=!0}},info:{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>',callback:()=>{open("https://github.com/SamuNatsu/live2d-widget-enhanced")}},quit:{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">\x3c!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>',callback:()=>{localStorage.setItem("l2dwe-quit-time",Date.now().toString()),r("愿你有一天能与重要的人重逢。",2e3,11);const e=document.querySelector("#waifu"),t=document.querySelector("#waifu-toggle");e.style.border="-500px",setTimeout((()=>{e.style.display="none",t.classList.add("waifu-toggle-active")}),3e3)}}};class l{constructor(t){this.cdnUrl=t,this.get=(t,o)=>e(this,void 0,void 0,(function*(){yield this.loadModelList();const e=this.modelList.models[t]instanceof Array?this.modelList.models[t][o]:this.modelList.models[t];return`${this.cdnUrl}/model/${e}/index.json`})),this.rand=t=>e(this,void 0,void 0,(function*(){yield this.loadModelList();const e=l.randExcept(0,this.modelList.models.length,t);return{model:{id:e,message:this.modelList.messages[e]}}})),this.switch=t=>e(this,void 0,void 0,(function*(){yield this.loadModelList();const e=(t+1)%this.modelList.models.length;return{model:{id:e,message:this.modelList.messages[e]}}})),this.randTexture=(t,o)=>e(this,void 0,void 0,(function*(){return yield this.loadModelList(),{textures:{id:this.modelList.models[t]instanceof Array?l.randExcept(0,this.modelList.models[t].length,o):0}}})),this.switchTexture=(t,o)=>e(this,void 0,void 0,(function*(){return yield this.loadModelList(),{textures:{id:this.modelList.models[t]instanceof Array?(o+1)%this.modelList.models[t].length:0}}}))}loadModelList(){return e(this,void 0,void 0,(function*(){if(void 0===this.modelList){const e=yield fetch(`${this.cdnUrl}/model_list.json`);this.modelList=yield e.json()}}))}static randExcept(e,t,o){if(e=Math.floor(e),t=Math.floor(t),o=Math.floor(o),t-e==1&&o===e)return o;for(;;){const s=Math.floor(Math.random()*(t-e))+e;if(s!==o)return s}}}const d=t=>e(void 0,void 0,void 0,(function*(){console.log("\nく__,.ヘヽ.        /  ,ー､ 〉\n          ＼ ', !-─‐-i  /  /´\n          ／｀ｰ'       L/／｀ヽ､\n        /   ／,   /|   ,   ,       ',\n      ｲ   / /-‐/  ｉ  L_ ﾊ ヽ!   i\n      ﾚ ﾍ 7ｲ｀ﾄ   ﾚ'ｧ-ﾄ､!ハ|   |\n        !,/7 '0'     ´0iソ|    |\n        |.从\"    _     ,,,, / |./    |\n        ﾚ'| i＞.､,,__  _,.イ /   .i   |\n          ﾚ'| | / k_７_/ﾚ'ヽ,  ﾊ.  |\n            | |/i 〈|/   i  ,.ﾍ |  i  |\n            .|/ /  ｉ：    ﾍ!    ＼  |\n            kヽ>､ﾊ    _,.ﾍ､    /､!\n            !'〈//｀Ｔ´', ＼ ｀'7'ｰr'\n            ﾚ'ヽL__|___i,___,ンﾚ|ノ\n                ﾄ-,/  |___./\n                'ｰ'    !_,.:\n加强版 Live2D 看板娘组件 | Live2D Widget Enhanced"),yield function(t){return e(this,void 0,void 0,(function*(){const e=(()=>{if("string"==typeof t.resource)return t.resource+"/waifu.css";if("object"==typeof t.resource&&"string"==typeof t.resource.css)return t.resource.css;const e=document.currentScript.src;return e.substring(0,e.lastIndexOf("/"))+"/waifu.css"})(),o=(()=>{if("string"==typeof t.resource)return t.resource+"/live2d.min.js";if("object"==typeof t.resource&&"string"==typeof t.resource.live2d)return t.resource.live2d;const e=document.currentScript.src;return e.substring(0,e.lastIndexOf("/"))+"/live2d.min.js"})(),s="string"==typeof t.target?t.target:"object"==typeof t.target&&"string"==typeof t.target.css?t.target.css:"head",i="string"==typeof t.target?t.target:"object"==typeof t.target&&"string"==typeof t.target.live2d?t.target.live2d:"head";yield Promise.all([new Promise(((t,o)=>{const i=document.createElement("link");i.href=e,i.rel="stylesheet",i.onload=t,i.onerror=e=>{n.error("Fail to load style sheet"),o(e)},document.querySelector(s).appendChild(i)})),new Promise(((e,t)=>{const s=document.createElement("script");s.async=!0,s.src=o,s.onload=e,s.onerror=e=>{n.error("Fail to load live2d core"),t(e)},document.querySelector(i).appendChild(s)}))])}))}(t),n.info("Version: 0.2.0"),n.info("Github: https://github.com/SamuNatsu/live2d-widget-enhanced"),function(e){const t="string"==typeof e.target?e.target:"object"==typeof e.target&&"string"==typeof e.target.toggle?e.target.toggle:"body";document.querySelector(t).insertAdjacentHTML("beforeend",'<div id="waifu-toggle"><span>看板娘</span></div>');const o=document.querySelector("#waifu-toggle");o.addEventListener("click",(()=>{if(o.classList.remove("waifu-toggle-active"),null!==o.getAttribute("first-time"))o.removeAttribute("fitst-time"),u(e);else{localStorage.removeItem("l2dwe-quit-time");const e=document.querySelector("#waifu");e.style.display="",setTimeout((()=>{e.style.bottom="0"}),0)}}));const s=parseInt(localStorage.getItem("l2dwe-quit-time"));Date.now()-s<864e5?(o.setAttribute("first-time",""),setTimeout((()=>{o.classList.add("waifu-toggle-active")}))):u(e)}(t)}));function u(i){var l,d,u,f,m,g;const h=c.getInstance(i.api);localStorage.removeItem("l2dwe-quit-time"),sessionStorage.removeItem("l2dwe-msg-priority");const p="string"==typeof i.target?i.target:"object"==typeof i.target&&"string"==typeof i.target.waifu?i.target.waifu:"body";document.querySelector(p).insertAdjacentHTML("beforeend",'<div id="waifu"><div id="waifu-tips"></div><canvas id="live2d" width="800" height="800"></canvas><div id="waifu-tool"></div></div>'),setTimeout((()=>{document.querySelector("#waifu").style.bottom="0"}),0),function(e){const t=function(){const e={};for(const t of Object.keys(a))e[t]=Object.assign({},a[t]);return e}();if(void 0!==e.tools)for(const o of Object.keys(e.tools))t[o]=e.tools[o];for(const e of Object.keys(t)){const{icon:o,callback:s}=t[e];document.querySelector("#waifu-tool").insertAdjacentHTML("beforeend",`<span id="waifu-tool-${e}">${o}</span>`),document.querySelector(`#waifu-tool-${e}`).addEventListener("click",(()=>s()))}}(i);const v=parseInt(null!==(u=null!==(l=localStorage.getItem("l2dwe-model-id"))&&void 0!==l?l:null===(d=i.defaultModel)||void 0===d?void 0:d.toString())&&void 0!==u?u:"0"),w=parseInt(null!==(g=null!==(f=localStorage.getItem("l2dwe-texture-id"))&&void 0!==f?f:null===(m=i.defaultTexture)||void 0===m?void 0:m.toString())&&void 0!==g?g:"0");h.loadModel(v,w),function(i){e(this,void 0,void 0,(function*(){const c=yield(()=>e(this,void 0,void 0,(function*(){if("string"==typeof i.resource)return fetch(i.resource+"/waifu-tips.json").then((e=>e.json())).catch((e=>{throw n.error("Fail to load tips"),e}));if("object"==typeof i.resource&&"string"==typeof i.resource.tips)return fetch(i.resource.tips).then((e=>e.json())).catch((e=>{throw n.error("Fail to load tips"),e}));if("object"==typeof i.resource&&"object"==typeof i.resource.tips)return i.resource.tips;const e=document.currentScript.src,t=e.substring(0,e.lastIndexOf("/"))+"/waifu-tips.json";return fetch(t).then((e=>e.json())).catch((e=>{throw n.error("Fail to load tips"),e}))})))();!function(e){const i=Array.isArray(e.message.default)?e.message.default:[e.message.default];e.seasons.forEach((({date:e,text:n})=>{const r=new Date,[c,a]=o(e);s(r.getMonth()+1,c[0],a[0])&&s(r.getDate(),c[1],a[1])&&i.push(t(n).replace("{year}",r.getFullYear().toString()).replace("{month}",(r.getMonth()+1).toString()).replace("{date}",r.getDate().toString()))}));let c=!1,a=null;addEventListener("mousemove",(()=>{c=!0})),addEventListener("keydown",(()=>{c=!0})),setInterval((()=>{if(c)return c=!1,clearInterval(a),void(a=null);null===a&&(a=setInterval((()=>{r(i,6e3,9)}),2e4))}),1e3),addEventListener("click",(o=>{const s=o.target;for(const{selector:o,subselector:n,text:i}of e.click){if(null===s.closest(o))continue;const e=void 0===n?s.innerText:s.querySelector(n).innerText;return void r(t(i).replace("{text}",e),4e3,8)}}));let l=!1;addEventListener("mouseover",(o=>{if(l)return;const s=o.target;for(const{selector:o,subselector:n,text:i}of e.mouseover){if(null===s.closest(o))continue;const e=void 0===n?s.innerText:s.querySelector(n).innerText;return r(t(i).replace("{text}",e),4e3,8),l=!0,void setTimeout((()=>{l=!1}),2e3)}}));const d=()=>{};d.toString=()=>(r(e.message.console,6e3,9),""),n.info("注入控制台钩子%c",d),addEventListener("copy",(()=>{r(e.message.copy,6e3,9)})),addEventListener("visibilitychange",(()=>{r(e.message.visibilitychange,6e3,9)}))}(c),r(function(e,n){var i;if("/"===location.pathname)for(let{hour:e,text:i}of n.time){const n=new Date,[r,c]=o(e);if(s(n.getHours(),r[0],c[0]))return t(i)}const r=null!==(i=e.titleSeparator)&&void 0!==i?i:e=>e.split(" - ")[0],c=`欢迎阅读<span>「${r(document.title)}」</span>`;if(""!==document.referrer){const e=new URL(document.referrer),t=e.hostname.split(".")[1],o={baidu:"百度",bing:"必应",google:"谷歌",so:"360 搜索",sogou:"搜狗"};return location.hostname===e.hostname?c:t in o?`Hello！来自 <span>${o[t]}</span> 的朋友<br>${c}`:`Hello！来自 <span>${e.hostname}</span> 的朋友<br>${c}`}return c}(i,c),7e3,11)}))}(i)}screen.width<768?n.info("由于宽度限制，组件已停用"):null===document.createElement("canvas").getContext("2d")?n.info("由于 Canvas 不支持，组件已停用"):d({api:new l("https://fastly.jsdelivr.net/gh/fghrsh/live2d_api"),resource:"https://fastly.jsdelivr.net/gh/samunatsu/live2d-widget-enhanced@latest/dist"})}();